\documentclass[book]{jlreq}

\usepackage{makeidx}
\usepackage{bussproofs}
\usepackage{color}
\usepackage[colorlinks]{hyperref}

\title{Intheo の型理論}
\author{Hexirp}

\makeindex

\def\——{—\kern-.5\zw—\kern-.5\zw—}
\newcommand{\bidash}{\——}
\newcommand{\CIC}{\textsf{CIC}}
\newcommand{\Type}{\mathrm{Type}}
\newcommand{\Level}{\mathrm{Level}}
\newcommand{\zero}{\mathrm{zero}}
\newcommand{\suc}{\mathrm{succ}}

\begin{document}

\frontmatter

\maketitle

Intheo は、純粋関数型プログラミング言語です。そして、カリー・ハワード対応を利用して定理を証明することも
可能です。となれば、どのような型理論に基づいているのかという疑問は当然です。この文書は、その疑問に答える
でしょう。

Intheo がベースとする型理論は、 Coq が基礎とする帰納的構造の計算~\cite{cic} と、方形的型理論~\cite{cutt} と、
数量的型理論~\cite{qtt} の三つを一まとめにしたものです。

Intheo の設計原理\bidash{}全てを、可能な限り明確に行う\bidash{}は、それが基礎とする型理論にも適用されます。
この型理論における型判定は、 \( Γ \vdash x : T \) の一つしかありません。そして、ある空から推論可能な
型判定 \( Γ \vdash x : T \) は、それを導く推論木と一対一対応します\bidash{}つまり、ある項は、それの
型が表す命題を証明する方法を一意に表しています。

\tableofcontents

\mainmatter

\part{帰納的構造の計算}

\index{きのうてきこうぞうのけいさん@帰納的構造の計算}帰納的構造の計算は、構造の計算に帰納型を追加した体系です。
かなり強力な表現力を持っていて、噂では \( \textsf{ZFC} + \textrm{``There are countably many inaccessible
cardinals.''} \) と同じ無矛盾性を持つとか言われています。

「帰納的構造の計算」は、 \index{Calculus of Inductive Constructions}``Calculus of Inductive Constructions'' を
日本語に直訳した言葉です。これは \index{CIC@\( \CIC \)}\( \CIC \) とも略されます。

帰納的構造の計算には、\index{うちゅうかいそう@宇宙階層}宇宙階層が必要になります。これは、確か帰納型を含むことへの
対価だったはずです。型判定 \ref{cic-type-zero} と型判定 \ref{cic-type-succ} が取り敢えず存在します。

\begin{figure}[h]
  \centering
  \begin{prooftree}
    \AxiomC{\( \)}
    \UnaryInfC{\( \vdash \zero : \Level \)}
  \end{prooftree}
  \caption{\( \zero \) の型}
  \label{cic-type-zero}
\end{figure}

\begin{figure}[h]
  \centering
  \begin{prooftree}
    \AxiomC{\( \)}
    \UnaryInfC{\( \vdash \suc : \Level \to \Level \)}
  \end{prooftree}
  \caption{\( \suc \) の型}
  \label{cic-type-succ}
\end{figure}

\index{Type@\( \Type \)}\( \Type \) は、型の型を表す記号です。 \index{Level@\( \Level \)}\( \Level \) は
宇宙レベルの型を表す記号です。型判定 \ref{cic-type-type} が取り敢えず存在します。

\begin{figure}[h]
  \centering
  \begin{prooftree}
    \AxiomC{\( \)}
    \UnaryInfC{\( \vdash \Type : ( i : \Level ) \to \Type ( \suc ( i ) ) \)}
  \end{prooftree}
  \caption{\( \Type \) の型}
  \label{cic-type-type}
\end{figure}

この型理論は、\index{いぞんちょくせき@依存直積}依存直積のみを持ちます。依存直積は、そのまま
\index{ぜんしょうかた@全称型}全称型となります。\index{そんざいかた@存在型}存在型などは
帰納型により定義されます。型判定 \ref{cic-type-forall-1} が存在します。

\begin{figure}[h]
  \centering
  \begin{prooftree}
    \AxiomC{\( \Gamma, \, i : \Level, \, A : \Type ( i ), \, x : A \vdash B : \Type ( i ) \)}
    \UnaryInfC{\( \Gamma \vdash ( ( x : A ) \to B ) : \Type ( i ) \)}
  \end{prooftree}
  \caption{依存直積の型 1}
  \label{cic-type-forall-1}
\end{figure}

\backmatter

\begin{thebibliography}{99}
  \bibitem{cic}
    Inria, CNRS, and contributors.
    \href{https://coq.github.io/doc/v8.13/refman/language/cic.html}{\textit{Typing rules --- Coq 8.13.2 documentation}}.
  \bibitem{cutt}
    Cyril Cohen, Thierry Coquand, Simon Huber, and Anders Mörtberg.
    \textit{Cubical Type Theory: a constructive interpretation of the univalence axiom}.
  \bibitem{qtt}
    Robert Atkey.
    \href{https://bentnib.org/quantitative-type-theory.html}{\textit{The Syntax and Semantics of Quantitative Type Theory}}.
\end{thebibliography}

\printindex

\end{document}
